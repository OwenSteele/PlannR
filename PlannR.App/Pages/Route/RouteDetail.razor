@page "/Routes/{RouteId}"
@attribute [Authorize]

<div class="detail limit-width ate">
    @if (Route == null)
    {
        <p>Searching for your route..</p>
    }
    else
    {
        <div class="heading">
            <h1>@Route.Name</h1>
            <div>
                <div>Part of:</div>
                <button class="trip-button" @onclick="NavigateToTrip">
                    <div>@Route.Trip.Name</div>
                </button>
            </div>
            <button @onclick="ShowEditRouteModal">&#9998;</button>
        </div>
        <div class="detail-info">
            @*<div class="one">
                    <div>
                        <div>Location:</div>
                        <div class="val">@(Route.StartLocation == null ? "No Location Set" : Route.StartLocation.Name)</div>
                    </div>
                </div>
                <div class="two">
                    <div>
                        <div>Location:</div>
                        <div class="val">@(Route.EndLocation == null ? "No Location Set" : Route.EndLocation.Name)</div>
                    </div>
                </div>*@
        </div>

        <div class="map-parts">
            <div class="ate-info">
                <div class="dates-times">
                    <div>
                        <h4>
                            Booked From:
                        </h4>
                        <div>
                            @Route.StartDateTime.ToLongDateString()
                            (@Route.StartDateTime.ToShortTimeString())
                        </div>
                    </div>
                    <div>
                        <h4>
                            Leaving on:
                        </h4>

                        <div>
                            @Route.EndDateTime.ToLongDateString()
                            (@Route.EndDateTime.ToShortTimeString())
                        </div>
                    </div>
                </div>
            </div>
            <div class="map-container">
                <div class="map-header">
                    <h2>Map</h2>
                    @if (MapPoints != null && MapPoints.Any())
                    {
                        <div>
                            <span>All locations: </span>
                            <button @onclick="ShowFullMapModal">&#128269;</button>
                        </div>
                    }
                    </div>
                @if (MapPoints != null && !MapPoints.Any())
                {
            <div class="no-points-wrapper">
                <div class="no-points">No Points added to map yet!</div>
            </div>
                        }
                        else
                        {
                        <div id="map-wrapper">
                            <Map Zoom="100" Points="@MapPoints"></Map>
                        </div>
                        }
                    </div>
                </div>
    }
</div>